@prefix : <http://www.essepuntato.it/2013/dchanges/> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix echo: <http://www.essepuntato.it/2013/07/echo/> .
@prefix earmark: <http://www.essepuntato.it/2008/12/earmark/> .
@prefix co: <http://swan.mindinformatics.org/ontologies/1.2/collections/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix frbr: <http://purl.org/vocab/frbr/core#> .


# Any EARMARK document is defined as an ontology
<http://www.essepuntato.it/2013/dchanges> 
	a owl:Ontology .

# The textual content of the document
:content a earmark:StringDocuverse ;
	earmark:hasContent 
		"Some interesting content. It was written by me."^^xsd:string .

# The string 'Some '
:r1 a earmark:PointerRange ;
	earmark:refersTo :content ;
	earmark:begins "0"^^xsd:nonNegativeInteger ;
	earmark:ends "5"^^xsd:nonNegativeInteger .

# The string 'interesting'
:r2 a earmark:PointerRange ;
	earmark:refersTo :content ;
	earmark:begins "5"^^xsd:nonNegativeInteger ;
	earmark:ends "16"^^xsd:nonNegativeInteger .

# The string ' content.'
:r3 a earmark:PointerRange ;
	earmark:refersTo :content ;
	earmark:begins "16"^^xsd:nonNegativeInteger ;
	earmark:ends "25"^^xsd:nonNegativeInteger .

# The string 'It was written by me.'
:r4 a earmark:PointerRange ;
	earmark:refersTo :content ;
	earmark:begins "26"^^xsd:nonNegativeInteger ;
	earmark:ends "47"^^xsd:nonNegativeInteger .

# The element 'section'
:section a earmark:Element ;
	earmark:hasGeneralIdentifier "section"^^xsd:string ;
	co:firstItem [ a co:ListItem ; 
		co:itemContent :p1 ;
	co:nextItem [ a co:ListItem ;
		co:itemContent :p2 ] ] .

# The first element 'p'
:p1 a earmark:Element ;
	earmark:hasGeneralIdentifier "p"^^xsd:string ;
	co:firstItem [ a co:ListItem ; 
		co:itemContent :r1 ;
	co:nextItem [ a co:ListItem ;
		co:itemContent :em ;
	co:nextItem [ a co:ListItem ;
		co:itemContent :r3 ] ] ] .

# The element 'em'
:em a earmark:Element ;
	earmark:hasGeneralIdentifier "em"^^xsd:string ;
	co:firstItem [ a co:ListItem ; 
		co:itemContent :r2 ] .

# The second element 'p'
:p2 a earmark:Element ;
	earmark:hasGeneralIdentifier "p"^^xsd:string ;
	co:firstItem [ a co:ListItem ; 
		co:itemContent :r4 ] .

:section
	# Provenance data
	prov:wasGeneratedBy :creation-by-alice ;
	prov:generatedAtTime 
		"2013-06-19T13:45:00Z"^^xsd:dateTime .

# Activity of creation of a new version
:creation-by-alice a echo:VersionCreation ;
	prov:wasAssociatedWith :alice .

# The person involved in the activity
:alice a prov:Person .

# The new content of the document
:content-by-bob a earmark:StringDocuverse ;
	earmark:hasContent "very "^^xsd:string .

# The new string 'very '
:r5 a earmark:PointerRange ;
	earmark:refersTo :content-by-bob ;
	earmark:begins "0"^^xsd:nonNegativeInteger ;
	earmark:ends "5"^^xsd:nonNegativeInteger ;
	# provenance information
	prov:wasGeneratedBy :insertion-by-bob ;
	prov:generatedAtTime 
		"2013-07-03T04:15:00Z"^^xsd:dateTime .

:insertion-by-bob a echo:ItemInsertion ;
	prov:wasAssociatedWith :bob .

# Element 'section' by Bob
:section-by-bob a earmark:Element ;
	earmark:hasGeneralIdentifier "section"^^xsd:string ;
	co:firstItem [ a co:ListItem ; 
		co:itemContent :p1-by-bob ;
	co:nextItem [ a co:ListItem ;
		co:itemContent :p2 ] ] ;
	# relation with previous version
	frbr:revisionOf :section ;
	# provenance information
	prov:wasGeneratedBy :creation-by-bob ;
	prov:generatedAtTime 
		"2013-07-03T04:15:00Z"^^xsd:dateTime .

:creation-by-bob a echo:VersionCreation ;
	prov:wasAssociatedWith :bob .

# First element 'p' by Bob
:p1-by-bob a earmark:Element ;
	earmark:hasGeneralIdentifier "p"^^xsd:string ;
	co:firstItem [ a co:ListItem ; 
		co:itemContent :r1 ;
	co:nextItem [ a co:ListItem ;
		co:itemContent :em-by-bob ;
	co:nextItem [ a co:ListItem ;
		co:itemContent :r3 ] ] ] ;
	# relation with previous version
	frbr:revisionOf :p1 .

# Element 'em' by Bob
:em-by-bob a earmark:Element ;
	earmark:hasGeneralIdentifier "em"^^xsd:string ;
	co:firstItem [ a co:ListItem ; 
		co:itemContent :r5 ;
	co:nextItem [ a co:ListItem ;
		co:itemContent :r2 ] ] ;
	# relation with previous version
	frbr:revisionOf :em .

:bob a prov:Person .

# Element 'section' by Charles
:section-by-charles a earmark:Element ;
	earmark:hasGeneralIdentifier "section"^^xsd:string ;
	co:firstItem [ a co:ListItem ; 
		co:itemContent :p1-by-bob ] ;
	# relation with previous version
	frbr:revisionOf :section-by-bob ;
	# provenance information
	prov:wasGeneratedBy :creation-by-charles ;
	prov:generatedAtTime 
		"2013-07-05T03:33:00Z"^^xsd:dateTime .

:creation-by-charles a echo:VersionCreation ;
	prov:wasAssociatedWith :charles .

# Provenance information for the deletion of
# the second element 'p' of Bob's 'section'
:p2
	prov:wasInvalidatedBy :deletion-by-charles ;
	prov:invalidatedAtTime 
		"2013-07-05T03:33:00Z"^^xsd:dateTime .

:deletion-by-charles a echo:ItemDeletion ;
	prov:wasAssociatedWith :charles .

:charles a prov:Person .

# The string 'It was written by '
:r5 a earmark:PointerRange ;
	earmark:refersTo :content ;
	earmark:begins "26"^^xsd:nonNegativeInteger ;
	earmark:ends "44"^^xsd:nonNegativeInteger ;
	# provenance information
	prov:wasDerivedFrom :r4 ;
	prov:wasInvalidatedBy :deletion-by-daniel ;
	prov:invalidatedAtTime 
		"2013-07-03T18:01:00Z"^^xsd:dateTime .

:deletion-by-daniel a echo:ItemDeletion ;
	prov:wasAssociatedWith :daniel .

# The string 'me'
:r6 a earmark:PointerRange ;
	earmark:refersTo :content ;
	earmark:begins "44"^^xsd:nonNegativeInteger ;
	earmark:ends "46"^^xsd:nonNegativeInteger ;
	# provenance information
	prov:wasDerivedFrom :r4 .
	
# The string '.'
:r7 a earmark:PointerRange ;
	earmark:refersTo :content ;
	earmark:begins "46"^^xsd:nonNegativeInteger ;
	earmark:ends "47"^^xsd:nonNegativeInteger ;
	# provenance information
	prov:wasDerivedFrom :r4 .
	
# The new content of the document
:content-by-daniel a earmark:StringDocuverse ;
	earmark:hasContent "Daniel"^^xsd:string .

# The new string 'Daniel'
:r8 a earmark:PointerRange ;
	earmark:refersTo :content-by-daniel ;
	earmark:begins "0"^^xsd:nonNegativeInteger ;
	earmark:ends "6"^^xsd:nonNegativeInteger ;
	# provenance information
	prov:wasGeneratedBy :insertion-by-daniel ;
	prov:generatedAtTime 
		"2013-07-03T18:01:00Z"^^xsd:dateTime .

:insertion-by-daniel a echo:ItemInsertion ;
	prov:wasAssociatedWith :daniel .

# Element 'section' by Daniel
:section-by-daniel a earmark:Element ;
	earmark:hasGeneralIdentifier "section"^^xsd:string ;
	co:firstItem [ a co:ListItem ; 
		co:itemContent :p1 ;
	co:nextItem [ a co:ListItem ;
		co:itemContent :p2-by-daniel ] ] ;
	# relation with previous version
	frbr:revisionOf :section ;
	# provenance information
	prov:wasGeneratedBy :creation-by-daniel ;
	prov:generatedAtTime 
		"2013-07-03T18:01:00Z"^^xsd:dateTime .

:creation-by-daniel a echo:VersionCreation ;
	prov:wasAssociatedWith :daniel .

# Second element 'p' by Daniel
:p2-by-daniel a earmark:Element ;
	earmark:hasGeneralIdentifier "p"^^xsd:string ;
	co:firstItem [ a co:ListItem ; 
		co:itemContent :r5 ;
	co:nextItem [ a co:ListItem ;
		co:itemContent :r8 ;
	co:nextItem [ a co:ListItem ;
		co:itemContent :r7 ] ] ] ;
	# relation with previous version
	frbr:revisionOf :p2 .

:daniel a prov:Person .